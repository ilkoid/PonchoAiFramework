# Лимиты запросов
В WB API есть ограничения на скорость отправки запросов. Для равномерного распределения нагрузки используется алгоритм token bucket. Лимиты для конкретных методов API указаны в документации.


## Например:

Лимит запросов на один аккаунт продавца для всех методов категории Маркетплейс:
Период	Лимит	Интервал	Всплеск
1 минута	300 запросов	200 миллисекунд	20 запросов
Один запрос с кодом ответа 409 учитывается как 5 запросов

Период — временной интервал, в течение которого можно отправить максимальное количество запросов по лимиту.
Лимит — максимальное количество запросов за период. В примере за одну минуту можно отправить до 300 запросов. Запросы должны быть равномерно распределены по времени.
Интервал — промежуток времени для пауз между запросами. В примере должен составлять 60 секунд/300 запросов — 200 миллисекунд или 0.2 секунды. Используйте интервал, чтобы равномерно распределить отправку запросов.
Всплеск — burst, максимальное количество запросов, которое можно отправить одновременно, без интервальных пауз. Допустимый всплеск также возвращается в ответе в заголовке X-Ratelimit-Remaining. Он встречается во всех статусах ответов, кроме ошибки 429.
X-Ratelimit-Remaining — это количество запросов, которое можно выполнить на данный момент без пауз. Значение X-Ratelimit-Remaining уменьшается на единицу после каждого запроса. Если X-Ratelimit-Remaining равен 0 и вы сделали следующий запрос без задержки, в ответ вы получите ошибку 429. Значение X-Ratelimit-Remaining восстанавливается со временем.

Есть случаи, когда один запрос может быть равен нескольким. Например, если вы отправляете запросы категории Маркетплейс, запрос с ошибкой 409 будет равен 10 запросам с другими статусами. Тогда значение X-Ratelimit-Remaining снизится сразу на 10 единиц.
Если вы превысите скорость выполнения запросов, вы получите ошибку 429. В этом случае следующий запрос вы сможете сделать только после небольшого ожидания. Чтобы понять, сколько времени вам нужно ждать, используйте заголовки ответа 429:

X-Ratelimit-Retry — через сколько секунд вы можете повторить запрос. Если вы сделаете попытку раньше, вы все равно будете получать ошибку 429.
X-Ratelimit-Limit — максимальное значение всплеска запросов — burst, которое будет восстановлено через X-Ratelimit-Reset секунд.
X-Ratelimit-Reset — через сколько секунд допустимый всплеск запросов восстановится до максимального значения, указанного в X-Ratelimit-Limit.
Пример ответа:

HTTP/1.1 429 Too Many Requests
...
X-Ratelimit-Reset: 29
X-Ratelimit-Retry: 2
...
X-Ratelimit-Limit: 10
